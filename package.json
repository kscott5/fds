{
  "name": "fds",
  "version": "1.0.0",
  "description": "Food Delivery Service with AWS Serverless Workshop",
  "main": "index.js",
  "scripts": { 
    "test": "echo \"Error: no test specified\" && exit 1",
    "go":    "CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -C ~/apps/fds/src/go -tags lambda.norpc -o ~/apps/fds/.dist/bootstrap main.go",
    "goarm": "CGO_ENABLED=0 GOOS=linux GOARCH=arm64 go build -C ~/apps/fds/src/go -tags lambda.norpc -o ~/apps/fds/.dist/bootstrap main.go",
    "clean": "rm  ./.dist/** -rf",
    "output": "terraform -chdir=./modules output",
    "terraform": "terraform -chdir=./modules init && terraform -chdir=./modules fmt && terraform -chdir=./modules validate",
    "deploy": "npm run clean && npm run buildgoarm && AWS_ENDPOINT_URL_DYNAMODB='' npm run terraform && AWS_ENDPOINT_URL_DYNAMODB='' terraform -chdir=./modules apply --auto-approve",
    "buildgoarm": "npm run clean && npm run goarm",
    "curlget": "curl -s -x POST http://localhost:2026/2015-03-31/functions/function/invocations -d '{\"httpMethod\":\"GET\", \"resource\":\"/users\"}'",
    "curlput": "curl -s -x POST http://localhost:2026/2015-03-31/functions/function/invocations -d '{\"httpMethod\":\"PUT\", \"resource\":\"/user\", \"parameters\":{\"username\":\"gnsurname\", \"fullname\":\"Givennames Surname\"}}'",
    "aws_ddb_create": "aws dynamodb create-table --table-name $FDS_APPS_USERS_TABLE --attribute-definitions AttributeName=_id,AttributeType=S --key-schema AttributeName=_id,KeyType=HASH --provisioned-throughput ReadCapacityUnits=5,WriteCapacityUnits=5",
    "aws_ddb_items": "aws dynamodb batch-write-item --endpoint-url $AWS_ENDPOINT_URL_DYNAMODB --request file://./data/data.json",
    "help": "node usage.js",
    "docker_db": "docker run --rm --name ddb_dev -p 2024:8000 --env AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID --env AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY --env AWS_REGION=$AWS_REGION -d amazon/dynamodb-local",
    "docker_go":   "docker run --rm --name lambda_go -p 2026:8080 -v ~/apps/fds/.dist:/var/task --env AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID --env AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY --env AWS_REGION=$AWS_REGION  --env AWS_ENDPOINT_URL_DYNAMODB=http://172.17.0.2:8000 --env FDS_APPS_USERS_TABLE=fds.apps.users amazon/aws-lambda-go bootstrap"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/kscott/fds"
  },
  "keywords": [
    "API",
    "AWS",
    "Cloud",
    "Function",
    "Gateway",
    "Git",
    "Github",
    "Go",
    "Gopher",
    "Lambda",
    "NodeJS",
    "Python",
    "Rest",
    "Terraform",
    "VSCode"
  ],
  "author": "Karega K Scott",
  "license": "MIT"
}
